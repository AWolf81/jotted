{"version":3,"file":null,"sources":["/run/media/mokush/work/dev/jotted/src/core/util.js","/run/media/mokush/work/dev/jotted/src/core/pubsoup.js","/run/media/mokush/work/dev/jotted/src/core/template.js","/run/media/mokush/work/dev/jotted/src/core/plugin.js","/run/media/mokush/work/dev/jotted/src/plugins/codemirror.js","/run/media/mokush/work/dev/jotted/src/plugins/ace.js","/run/media/mokush/work/dev/jotted/src/plugins/less.js","/run/media/mokush/work/dev/jotted/src/jotted.js"],"sourcesContent":["/* util\n */\n\nfunction extend (obj = {}, defaults = {}) {\n  var extended = {}\n  Object.keys(defaults).forEach(function (key) {\n    if (typeof obj[key] !== 'undefined') {\n      extended[key] = obj[key]\n    } else {\n      extended[key] = defaults[key]\n    }\n  })\n\n  return extended\n}\n\nfunction fetch (file, callback) {\n  var xhr = new window.XMLHttpRequest()\n  xhr.open('GET', file)\n  xhr.responseType = 'text'\n\n  xhr.onload = function () {\n    callback(null, xhr.response)\n  }\n\n  xhr.onerror = function (err) {\n    callback(err)\n  }\n\n  xhr.send()\n}\n\nfunction seqRunner (index, params, arr, callback) {\n  arr[index](params, function (err, res) {\n    if (err) {\n      return console.log(err)\n    }\n\n    index++\n    if (index === arr.length) {\n      callback(err, res)\n    } else {\n      seqRunner(index, res, arr, callback)\n    }\n  })\n}\n\nfunction seq (arr, params, callback = function () {}) {\n  if (!arr.length) {\n    return callback(null, params)\n  }\n\n  seqRunner(0, params, arr, callback)\n}\n\nfunction debounce (fn, delay) {\n  var timer = null\n  return function () {\n    var context = this\n    var args = arguments\n    clearTimeout(timer)\n    timer = setTimeout(function () {\n      fn.apply(context, args)\n    }, delay)\n  }\n}\n\nfunction log () {\n  console.log(arguments)\n}\n\nexport {\n  extend,\n  fetch,\n  seq,\n  debounce,\n  log\n}\n","/* pubsoup\n */\n\n// TODO make pubsoup keep the events on the instance\nimport * as util from './util.js'\nvar topics = {}\n\nfunction find (query) {\n  topics[query] = topics[query] || []\n  return topics[query]\n}\n\nfunction subscribe (topic, subscriber, priority = 90) {\n  var foundTopic = find(topic)\n  subscriber._priority = priority\n  foundTopic.push(subscriber)\n\n  // sort subscribers on priority\n  foundTopic.sort(function (a, b) {\n    return (a._priority > b._priority) ? 1 : ((b._priority > a._priority) ? -1 : 0)\n  })\n}\n\nfunction unsubscribe (topic, subscriber) {\n  var foundTopic = find(topic)\n  foundTopic.forEach(function (t) {\n    // if no subscriber is specified\n    // remove all subscribers\n    if (!subscriber) {\n      t.length = 0\n      return\n    }\n\n    // find the subscriber in the topic\n    var index = [].indexOf.call(t, subscriber)\n\n    // show an error if we didn't find the subscriber\n    if (index === -1) {\n      return util.log('Subscriber not found in topic')\n    }\n\n    t.splice(index, 1)\n  })\n}\n\n// sequentially runs a method on all plugins\nfunction publish (topic, params = {}) {\n  var foundTopic = find(topic)\n  var runList = []\n\n  foundTopic.forEach(function (subscriber) {\n    runList.push(subscriber)\n  })\n\n  util.seq(runList, params)\n}\n\nexport {\n  subscribe,\n  unsubscribe,\n  publish\n}\n","/* template\n */\n\nexport function container () {\n  return `\n    <ul class=\"jotted-nav\">\n      <li class=\"jotted-nav-item jotted-nav-item-result\">\n        <a href=\"#\" data-jotted-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-html\">\n        <a href=\"#\" data-jotted-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-css\">\n        <a href=\"#\" data-jotted-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-js\">\n        <a href=\"#\" data-jotted-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"jotted-pane jotted-pane-result\">\n      <iframe></iframe>\n    </div>\n    <div class=\"jotted-pane jotted-pane-html\"></div>\n    <div class=\"jotted-pane jotted-pane-css\"></div>\n    <div class=\"jotted-pane jotted-pane-js\"></div>\n  `\n}\n\nexport function paneActiveClass (type) {\n  return `jotted-pane-active-${type}`\n}\n\nexport function containerClass () {\n  return `jotted`\n}\n\nexport function showBlankClass () {\n  return `jotted-show-blank`\n}\n\nexport function hasFileClass (type) {\n  return `jotted-has-${type}`\n}\n\nexport function editorClass (type) {\n  return `jotted-editor jotted-editor-${type}`\n}\n\nexport function editorContent (type, file) {\n  return `\n    <textarea data-jotted-type=\"${type}\" data-jotted-file=\"${file}\"></textarea>\n  `\n}\n","/* plugin\n */\n\nvar plugins = []\n\nfunction find (id) {\n  for (let plugin of plugins) {\n    if (plugin._id === id) {\n      return plugin\n    }\n  }\n\n  // can't find plugin\n  throw new Error(`Plugin ${id} is not registered.`)\n}\n\nfunction register (id, plugin) {\n  // private properties\n  plugin._id = id\n  plugins.push(plugin)\n}\n\n// create a new instance of each plugin, on the jotted instance\nfunction init () {\n  for (let id in this.options.plugins) {\n    var Plugin = find(id)\n    this.plugins[id] = new Plugin(this, this.options.plugins[id])\n  }\n}\n\nexport {\n  register,\n  init\n}\n","/* coremirror plugin\n */\n\nimport * as util from '../core/util.js'\n\nexport default class PluginCodeMirror {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n\n    options = util.extend(options, {\n      lineNumbers: true\n    })\n\n    // check if CodeMirror is loaded\n    if (typeof window.CodeMirror === 'undefined') {\n      return\n    }\n\n    jotted.$container.classList.add('jotted-plugin-codemirror')\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = $textarea.dataset.jottedType\n      let file = $textarea.dataset.jottedFile\n\n      this.editor[type] = window.CodeMirror.fromTextArea($textarea, options)\n      let editor = this.editor[type]\n\n      editor.on('change', () => {\n        $textarea.value = editor.getValue()\n\n        // trigger a change event\n        jotted.trigger('change', {\n          cmEditor: editor,\n          type: type,\n          file: file,\n          content: $textarea.value\n        })\n      })\n    }\n\n    jotted.on('change', util.debounce(this.change.bind(this), jotted.options.debounce), priority)\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the codemirror change\n    if (!params.cmEditor) {\n      editor.setValue(params.content)\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* ace plugin\n */\n\nimport * as util from '../core/util.js'\n\nexport default class PluginAce {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n\n    this.modemap = {\n      'html': 'html',\n      'css': 'css',\n      'less': 'less',\n      'js': 'javascript'\n    }\n\n    options = util.extend(options, {\n      lineNumbers: true\n    })\n\n    // check if Ace is loaded\n    if (typeof window.ace === 'undefined') {\n      return\n    }\n\n    jotted.$container.classList.add('jotted-plugin-ace')\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = $textarea.dataset.jottedType\n      let file = $textarea.dataset.jottedFile\n\n      let $aceContainer = document.createElement('div')\n      $editors[i].appendChild($aceContainer)\n\n      this.editor[type] = window.ace.edit($aceContainer)\n      let editor = this.editor[type]\n\n      let editorOptions = util.extend(options)\n\n      editor.getSession().setMode(this.aceMode(type, file))\n      editor.getSession().setOptions(editorOptions)\n\n      editor.on('change', () => {\n        $textarea.value = editor.getValue()\n\n        // trigger a change event\n        jotted.trigger('change', {\n          aceEditor: editor,\n          type: type,\n          file: file,\n          content: $textarea.value\n        })\n      })\n    }\n\n    jotted.on('change', util.debounce(this.change.bind(this), jotted.options.debounce), priority)\n\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the ace change\n    if (!params.aceEditor) {\n      editor.setValue(params.content, -1)\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n\n  aceMode (type, file) {\n    var mode = 'ace/mode/'\n\n    // try the file extension\n    for(let key in this.modemap) {\n      if (file.indexOf('.' + key) !== -1) {\n        return mode + this.modemap[key]\n      }\n    }\n\n    // try the file type (html/css/js)\n    for(let key in this.modemap) {\n      if (type === key) {\n        return mode + this.modemap[key]\n      }\n    }\n\n    return mode + type\n  }\n}\n","/* less plugin\n */\n\nimport * as util from '../core/util.js'\n\nexport default class PluginLess {\n  constructor (jotted, options) {\n    var priority = 20\n    var i\n\n    this.editor = {}\n\n    options = util.extend(options, {})\n\n    // check if less is loaded\n    if (typeof window.less === 'undefined') {\n      return\n    }\n\n    jotted.$container.classList.add('jotted-plugin-less')\n\n    // change CSS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Less';\n\n    jotted.on('change', util.debounce(this.change.bind(this), jotted.options.debounce), priority)\n  }\n\n  isLess (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.less') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isLess(params)) {\n      window.less.render(params.content, this.options, function (err, res) {\n        if (err) {\n          // TODO render error\n          // TODO create a jotted.error(type, message) method\n          console.log(err)\n        } else {\n          // replace the content with the parsed less\n          params.content = res.css\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* jotted\n */\n\nimport * as util from './core/util.js'\nimport * as template from './core/template.js'\nimport * as plugin from './core/plugin.js'\nimport * as pubsoup from './core/pubsoup.js'\n\nimport PluginAce from './plugins/ace.js'\nimport PluginCodeMirror from './plugins/codemirror.js'\nimport PluginLess from './plugins/less.js'\n\nclass Jotted {\n  constructor ($editor, opts) {\n    this.options = util.extend(opts, {\n      showBlank: false,\n      pane: 'result',\n      debounce: 250,\n      plugins: {\n        ace: {}\n      }\n    })\n\n    this.plugins = {}\n\n    this.$container = $editor\n    this.$container.innerHTML = template.container()\n    this.$container.classList.add(template.containerClass())\n\n    if (this.options.showEmpty) {\n      this.$container.classList.add(template.showBlankClass())\n    }\n\n    // default pane\n    this.paneActive = this.options.pane\n    this.$container.classList.add(template.paneActiveClass(this.paneActive))\n\n    this.$result = $editor.querySelector('.jotted-pane-result')\n    this.$html = $editor.querySelector('.jotted-pane-html')\n    this.$css = $editor.querySelector('.jotted-pane-css')\n    this.$js = $editor.querySelector('.jotted-pane-js')\n\n    this.markup('html', this.$html)\n    this.markup('css', this.$css)\n    this.markup('js', this.$js)\n\n    this.$resultFrame = this.$result.querySelector('iframe')\n\n    this.$styleInject = document.createElement('style')\n    this.$resultFrame.contentWindow.document.head.appendChild(this.$styleInject)\n\n    // change events\n    this.$container.addEventListener('change', util.debounce(this.change.bind(this), this.options.debounce))\n    this.$container.addEventListener('keyup', util.debounce(this.change.bind(this), this.options.debounce))\n\n    // pane change\n    this.$container.addEventListener('click', this.pane.bind(this))\n\n    // init plugins\n    plugin.init.call(this)\n\n    this.on('change', this.changeCallback.bind(this), 999)\n  }\n\n  markup (type, $parent) {\n    // create the markup for an editor\n    var file = this.$container.dataset[type] || ''\n\n    var $editor = document.createElement('div')\n    $editor.innerHTML = template.editorContent(type, file)\n    $editor.className = template.editorClass(type)\n    var $textarea = $editor.querySelector('textarea')\n\n    $parent.appendChild($editor)\n\n    if (file !== '') {\n      this.$container.classList.add(template.hasFileClass(type))\n\n      util.fetch(file, (err, res) => {\n        if (err) {\n          return\n        }\n\n        $textarea.value = res\n\n        // simulate change event\n        this.change({\n          target: $textarea\n        })\n      })\n    }\n  }\n\n  change (e) {\n    if (!e.target.dataset.jottedType) {\n      return\n    }\n\n    this.trigger('change', {\n      type: e.target.dataset.jottedType,\n      file: e.target.dataset.jottedFile,\n      content: e.target.value\n    })\n  }\n\n  changeCallback (params, callback) {\n    if (params.type === 'html') {\n      this.$resultFrame.contentWindow.document.body.innerHTML = params.content\n      return\n    }\n\n    if (params.type === 'css') {\n      this.$styleInject.textContent = params.content\n      return\n    }\n\n    if (params.type === 'js') {\n      // TODO plugin to show errors\n      this.$resultFrame.contentWindow.eval(params.content)\n      return\n    }\n  }\n\n  pane (e) {\n    if (!e.target.dataset.jottedType) {\n      return\n    }\n\n    this.$container.classList.remove(template.paneActiveClass(this.paneActive))\n    this.paneActive = e.target.dataset.jottedType\n    this.$container.classList.add(template.paneActiveClass(this.paneActive))\n\n    e.preventDefault()\n  }\n\n  on () {\n    pubsoup.subscribe.apply(this, arguments)\n  }\n\n  off () {\n    pubsoup.unsubscribe.apply(this, arguments)\n  }\n\n  trigger () {\n    pubsoup.publish.apply(this, arguments)\n  }\n}\n\n// register plugins\nJotted.plugin = function () {\n  return plugin.register.apply(this, arguments)\n}\n\n// register bundled plugins\nJotted.plugin('codemirror', PluginCodeMirror)\nJotted.plugin('ace', PluginAce)\nJotted.plugin('less', PluginLess)\n\nexport default Jotted\n"],"names":["find","util.log","util.seq","util.extend","util.debounce","template.container","template.containerClass","template.showBlankClass","template.paneActiveClass","plugin.init","template.editorContent","template.editorClass","template.hasFileClass","util.fetch","pubsoup.subscribe","pubsoup.unsubscribe","pubsoup.publish","plugin.register"],"mappings":"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"}