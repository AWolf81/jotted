{"version":3,"file":null,"sources":["/run/media/mokush/work/dev/jotted/src/core/template.js","/run/media/mokush/work/dev/jotted/src/core/util.js","/run/media/mokush/work/dev/jotted/src/core/plugin.js","/run/media/mokush/work/dev/jotted/src/plugins/ace.js","/run/media/mokush/work/dev/jotted/src/plugins/codemirror.js","/run/media/mokush/work/dev/jotted/src/jotted.js"],"sourcesContent":["/* template\n */\n\nexport function container () {\n  return `\n    <ul class=\"jotted-nav\">\n      <li class=\"jotted-nav-item jotted-nav-item-result\">\n        <a href=\"#\" data-jotted-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-html\">\n        <a href=\"#\" data-jotted-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-css\">\n        <a href=\"#\" data-jotted-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-js\">\n        <a href=\"#\" data-jotted-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"jotted-pane jotted-pane-result\">\n      <iframe></iframe>\n    </div>\n    <div class=\"jotted-pane jotted-pane-html\"></div>\n    <div class=\"jotted-pane jotted-pane-css\"></div>\n    <div class=\"jotted-pane jotted-pane-js\"></div>\n  `\n}\n\nexport function paneActiveClass (type) {\n  return `jotted-pane-active-${type}`\n}\n\nexport function containerClass () {\n  return `jotted`\n}\n\nexport function showBlankClass () {\n  return `jotted-show-blank`\n}\n\nexport function hasFileClass (type) {\n  return `jotted-has-${type}`\n}\n\nexport function editorClass (type) {\n  return `jotted-editor jotted-editor-${type}`\n}\n\nexport function editorContent (type, file) {\n  return `\n    <textarea data-jotted-type=\"${type}\" data-jotted-file=\"${file}\"></textarea>\n  `\n}\n","/* util\n */\n\nfunction extend (obj = {}, defaults = {}) {\n  var extended = {}\n  Object.keys(defaults).forEach(function (key) {\n    if (typeof obj[key] !== 'undefined') {\n      extended[key] = obj[key]\n    } else {\n      extended[key] = defaults[key]\n    }\n  })\n\n  return extended\n}\n\nfunction fetch (file, callback) {\n  var xhr = new window.XMLHttpRequest()\n  xhr.open('GET', file)\n  xhr.responseType = 'text'\n\n  xhr.onload = function () {\n    callback(null, xhr.response)\n  }\n\n  xhr.onerror = function (err) {\n    callback(err)\n  }\n\n  xhr.send()\n}\n\nfunction seqRunner (index, params, arr, callback) {\n  arr[index](params, function (err, res) {\n    if (err) {\n      return console.log(err)\n    }\n\n    index++\n    if (index === arr.length) {\n      callback(err, res)\n    } else {\n      seqRunner(index, res, arr, callback)\n    }\n  })\n}\n\nfunction seq (arr, params, callback) {\n  if (!arr.length) {\n    return callback(null, params)\n  }\n\n  seqRunner(0, params, arr, callback)\n}\n\nfunction debounce (fn, delay) {\n  var timer = null\n  return function () {\n    var context = this\n    var args = arguments\n    clearTimeout(timer)\n    timer = setTimeout(function () {\n      fn.apply(context, args)\n    }, delay)\n  }\n}\n\nexport {\n  extend,\n  fetch,\n  seq,\n  debounce\n}\n","/* plugin\n */\n\nimport * as util from './util.js'\n\nvar plugins = []\n\nfunction find (id) {\n  for (let plugin of plugins) {\n    if (plugin._id === id) {\n      return plugin\n    }\n  }\n\n  // can't find plugin\n  throw new Error(`Plugin ${id} is not registered.`)\n}\n\nfunction register (id, plugin) {\n  // private properties\n  plugin._id = id\n  // default priority\n  plugin.priority = plugin.priority || 90\n  plugins.push(plugin)\n\n  // sort plugins on priority\n  plugins.sort(function (a, b) {\n    return (a.priority > b.priority) ? 1 : ((b.priority > a.priority) ? -1 : 0)\n  })\n}\n\n// parallel init all plugins\nfunction init () {\n  for (let id in this.options.plugins) {\n    find(id).init.call(this, this.options.plugins[id])\n  }\n}\n\n// sequentially runs a method on all plugins\nfunction run (method, params = {}, callback = function () {}) {\n  var runIdList = Object.keys(this.options.plugins).map(id => id)\n  var runList = []\n\n  runIdList.forEach((id, index) => {\n    var plugin = find(id)\n    if (typeof plugin[method] !== 'undefined') {\n      runList.push(plugin[method])\n    }\n  })\n\n  util.seq(runList, params, (err, res) => {\n    callback(err, res)\n  })\n}\n\nexport {\n  register,\n  init,\n  run\n}\n","/* ace plugin\n */\n\nimport * as util from '../core/util.js'\n\nvar editor\nvar $textarea\n\nexport default class PluginAce {\n  constructor () {\n    this.priority = 99\n  }\n\n  init (opts) {\n    this.pluginOptions = util.extend(opts, {})\n\n    // check if ace is loaded\n    if (typeof window.ace === 'undefined') {\n      return\n    }\n\n    this.$container.classList.add('jotted-plugin-ace')\n\n    var $aceHTML = document.createElement('div')\n\n    var $editor = this.$html.querySelector('.jotted-editor')\n\n    $editor.appendChild($aceHTML)\n    editor = window.ace.edit($aceHTML)\n    editor.setOptions({\n      mode: 'ace/mode/html'\n    })\n\n    $textarea = $editor.querySelector('textarea')\n\n//     this.$container.removeEventListener('change', this.debounceChange)\n//     this.$container.removeEventListener('keyup', this.debounceChange)\n\n    editor.on('change', () => {\n      console.log('change')\n      $textarea.value = editor.getValue()\n\n      this.change({\n        target: $textarea\n      })\n\n//       $textarea.change()\n    })\n\n//     editor.setValue($textarea.value)\n\n//     editor.getSession().setValue('tesgfhfghfghfghgfht')\n\n    // `this` is the jotted instance\n//     console.log(this)\n\n    // TODO check if ace is loaded, if it is, use it on the textareas\n  }\n\n  html (params, callback) {\n    editor.setValue($textarea.value)\n\n    setTimeout(function () {\n      callback(null, params)\n    }, 500)\n  }\n}\n","/* coremirror plugin\n */\n\nimport * as util from '../core/util.js'\n\nvar editor\nvar $textarea\nvar cmChange = false\n\nexport default class PluginCodeMirror {\n  constructor () {\n    this.priority = 99\n  }\n\n  init (opts) {\n    this.pluginOptions = util.extend(opts, {})\n\n    // check if CodeMirror is loaded\n    if (typeof window.CodeMirror === 'undefined') {\n      return\n    }\n\n    this.$container.classList.add('jotted-plugin-codemirror')\n\n    var $editor = this.$html.querySelector('.jotted-editor')\n    $textarea = $editor.querySelector('textarea')\n\n    editor = window.CodeMirror.fromTextArea($editor.querySelector('textarea'), {\n      lineNumbers: true\n    })\n\n    editor.on('change', function () {\n      cmChange = true\n      $textarea.value = editor.getValue()\n\n      var change = new Event('change', {\n        bubbles: true\n      })\n      $textarea.dispatchEvent(change)\n    })\n  }\n\n  html (params, callback) {\n    // TODO check if the event was triggered from the codemirror change\n    if (!cmChange) {\n      editor.setValue($textarea.value)\n    }\n\n    setTimeout(function () {\n      cmChange = false\n      params.content = editor.getValue()\n      callback(null, params)\n    }, 500)\n  }\n}\n","/* jotted\n */\n\nimport * as util from './core/util.js'\nimport * as template from './core/template.js'\nimport * as plugin from './core/plugin.js'\nimport PluginAce from './plugins/ace.js'\nimport PluginCodeMirror from './plugins/codemirror.js'\n\nclass Jotted {\n  constructor ($editor, opts) {\n    this.options = util.extend(opts, {\n      showBlank: false,\n      pane: 'result',\n      debounce: 250,\n      plugins: {\n        ace: {}\n      }\n    })\n\n    this.$container = $editor\n    this.$container.innerHTML = template.container()\n    this.$container.classList.add(template.containerClass())\n\n    if (this.options.showEmpty) {\n      this.$container.classList.add(template.showBlankClass())\n    }\n\n    // default pane\n    this.paneActive = this.options.pane\n    this.$container.classList.add(template.paneActiveClass(this.paneActive))\n\n    this.$result = $editor.querySelector('.jotted-pane-result')\n    this.$html = $editor.querySelector('.jotted-pane-html')\n    this.$css = $editor.querySelector('.jotted-pane-css')\n    this.$js = $editor.querySelector('.jotted-pane-js')\n\n    this.markup('html', this.$html)\n    this.markup('css', this.$css)\n    this.markup('js', this.$js)\n\n    this.$resultFrame = this.$result.querySelector('iframe')\n\n    this.$styleInject = document.createElement('style')\n    this.$resultFrame.contentWindow.document.head.appendChild(this.$styleInject)\n\n    // change events\n    this.$container.addEventListener('change', util.debounce(this.change.bind(this), this.options.debounce))\n    this.$container.addEventListener('keyup', util.debounce(this.change.bind(this), this.options.debounce))\n\n    // pane change\n    this.$container.addEventListener('click', this.pane.bind(this))\n\n    // init plugins\n    plugin.init.call(this)\n  }\n\n  markup (type, $parent) {\n    // create the markup for an editor\n    var file = this.$container.dataset[type] || ''\n\n    var $editor = document.createElement('div')\n    $editor.innerHTML = template.editorContent(type, file)\n    $editor.className = template.editorClass(type)\n    var $textarea = $editor.querySelector('textarea')\n\n    $parent.appendChild($editor)\n\n    if (file !== '') {\n      this.$container.classList.add(template.hasFileClass(type))\n\n      util.fetch(file, (err, res) => {\n        if (err) {\n          return\n        }\n\n        $textarea.value = res\n\n        // simulate change event\n        this.change({\n          target: $textarea\n        })\n      })\n    }\n  }\n\n  change (e) {\n    if (!e.target.dataset.jottedType) {\n      return\n    }\n\n    var type = e.target.dataset.jottedType\n\n    // run all plugins, then do magic\n    plugin.run.call(this, type, {\n      name: e.target.dataset.jottedFile,\n      content: e.target.value\n    }, (err, res) => {\n      if (err) {\n        return err\n      }\n\n      if (type === 'html') {\n        this.$resultFrame.contentWindow.document.body.innerHTML = res.content\n        return\n      }\n\n      if (type === 'css') {\n        this.$styleInject.textContent = res.content\n        return\n      }\n\n      if (type === 'js') {\n        // TODO plugin to show errors\n        this.$resultFrame.contentWindow.eval(res.content)\n        return\n      }\n    })\n  }\n\n  pane (e) {\n    if (!e.target.dataset.jottedType) {\n      return\n    }\n\n    this.$container.classList.remove(template.paneActiveClass(this.paneActive))\n    this.paneActive = e.target.dataset.jottedType\n    this.$container.classList.add(template.paneActiveClass(this.paneActive))\n\n    e.preventDefault()\n  }\n}\n\n// register plugins\nJotted.plugin = function () {\n  return plugin.register.apply(this, arguments)\n}\n\n// register bundled plugins\nJotted.plugin('ace', new PluginAce())\nJotted.plugin('codemirror', new PluginCodeMirror())\n\nexport default Jotted\n"],"names":["util.seq","util.extend","editor","$textarea","template.container","template.containerClass","template.showBlankClass","template.paneActiveClass","util.debounce","plugin.init","template.editorContent","template.editorClass","template.hasFileClass","util.fetch","plugin.run","plugin.register"],"mappings":"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"}